function SpryMap(A){function e(A,e){var o=A,t=e;if(i.lockEdges){var n=-i.map.offsetWidth+i.viewingBox.offsetWidth,s=-i.map.offsetHeight+i.viewingBox.offsetHeight;o=(o=o<n?n:o)>0?0:o,t=(t=t<s?s:t)>0?0:t}i.map.style.left=o+"px",i.map.style.top=t+"px"}function o(A,e,o){A.attachEvent?(A["e"+e+o]=o,A[e+o]=function(){A["e"+e+o](window.event)},A.attachEvent("on"+e,A[e+o])):A.addEventListener(e,o,!1)}function t(A,e){this.x=A,this.y=e}var i=this;i.map=document.getElementById(A.id),i.width=void 0===A.width?800:A.width,i.height=void 0===A.height?800:A.height,i.scrolling=void 0===A.scrolling||A.scrolling,i.hoverCursor=A.hoverCursor||"auto",i.dragCursor=A.dragCursor||"url(data:image/vnd.microsoft.icon;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAAH/AAAB/wAAA/0AAANsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//+AB///wAf//4AH//+AD///yT/////////////////////////////8=), default",i.scrollTime=void 0===A.scrollTime?300:A.scrollTime,i.lockEdges=void 0===A.lockEdges||A.lockEdges,i.viewingBox=document.createElement("div"),void 0!==A.cssClass&&(i.viewingBox.className=A.cssClass),i.viewingBox.style.cursor=i.hoverCursor,i.mousePosition=new t,i.mouseLocations=[],i.velocity=new t,i.mouseDown=!1,i.timerId=-1,i.timerCount=0,i.map.parentNode.replaceChild(i.viewingBox,i.map),i.viewingBox.appendChild(i.map),i.viewingBox.style.overflow="hidden",i.viewingBox.style.width=i.width+"px",i.viewingBox.style.height=i.height+"px",i.viewingBox.style.position="relative",i.map.style.position="absolute",e(void 0===A.startX?0:-A.startX,void 0===A.startY?0:-A.startY);var n=function(A){var o=A.clientX||A.touches[0].clientX,t=A.clientY||A.touches[0].clientY;e(o-i.mousePosition.x+parseInt(i.map.style.left),t-i.mousePosition.y+parseInt(i.map.style.top)),i.mousePosition.x=o,i.mousePosition.y=t},s=function(){if(i.mouseDown)i.mouseLocations.unshift(new t(i.mousePosition.x,i.mousePosition.y)),i.mouseLocations.length>10&&i.mouseLocations.pop();else{var A=i.scrollTime/20,o=(A-i.timerCount)/A,n=i.velocity.x*o,s=i.velocity.y*o;e(-n+parseInt(i.map.style.left),-s+parseInt(i.map.style.top)),i.timerCount==A&&(clearInterval(i.timerId),i.timerId=-1),++i.timerCount}};o(i.viewingBox,"mousedown",(function(A){r(A)})),o(i.viewingBox,"touchstart",(function(A){r(A)}));var r=function(A){i.viewingBox.style.cursor=i.dragCursor,i.mousePosition.x=A.clientX,i.mousePosition.y=A.clientY,o(document,"mousemove",n),o(document,"touchmove",n),i.mouseDown=!0,i.scrolling&&(i.timerCount=0,0!=i.timerId&&(clearInterval(i.timerId),i.timerId=0),i.timerId=setInterval(s,20)),/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)||/(Android)/i.test(navigator.userAgent)||(event.preventDefault?event.preventDefault():event.returnValue=!1)};o(document,"mouseup",(function(A){u(A)})),o(document,"touchend",(function(A){u(A)}));var u=function(A){if(i.mouseDown){var e=n;if(document.detachEvent?(document.detachEvent("onmousemove",document["mousemove"+e]),document["mousemove"+e]=null):document.removeEventListener("mousemove",e,!1),i.mouseDown=!1,i.mouseLocations.length>0){var o=i.mouseLocations.length;i.velocity.x=(i.mouseLocations[o-1].x-i.mouseLocations[0].x)/o,i.velocity.y=(i.mouseLocations[o-1].y-i.mouseLocations[0].y)/o,i.mouseLocations.length=0}}i.viewingBox.style.cursor=i.hoverCursor}}